

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>lor package &mdash; Luigi on Rails 0.0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="lor.commands package" href="lor.commands.html" />
    <link rel="prev" title="Luigi on Rails" href="index.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Luigi on Rails
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">lor package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lor.commands.html">lor.commands package</a></li>
<li class="toctree-l3"><a class="reference internal" href="lor.tasks.html">lor.tasks package</a></li>
<li class="toctree-l3"><a class="reference internal" href="lor.util.html">lor.util package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-lor.cmdline">lor.cmdline module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lor-pathalias-module">lor.pathalias module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lor-properties-module">lor.properties module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-lor.test">lor.test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-lor.workspace">lor.workspace module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lor-workspace-global-module">lor.workspace_global module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-lor">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Luigi on Rails</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>lor package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/lor.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="lor-package">
<h1>lor package<a class="headerlink" href="#lor-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="lor.commands.html">lor.commands package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lor.commands.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="lor.commands.html#module-lor.commands.dot">lor.commands.dot module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lor.commands.html#module-lor.commands.explain">lor.commands.explain module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lor.commands.html#module-lor.commands.ls">lor.commands.ls module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lor.commands.html#module-lor.commands.new">lor.commands.new module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lor.commands.html#module-lor.commands.properties">lor.commands.properties module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lor.commands.html#module-lor.commands.run">lor.commands.run module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lor.commands.html#module-lor.commands">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lor.tasks.html">lor.tasks package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lor.tasks.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="lor.tasks.html#module-lor.tasks.fs">lor.tasks.fs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lor.tasks.html#module-lor.tasks.general">lor.tasks.general module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lor.tasks.html#module-lor.tasks.hdfs">lor.tasks.hdfs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lor.tasks.html#module-lor.tasks.tar">lor.tasks.tar module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lor.tasks.html#module-lor.tasks">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lor.util.html">lor.util package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lor.util.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="lor.util.html#module-lor.util.cli">lor.util.cli module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lor.util.html#module-lor.util.reflection">lor.util.reflection module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lor.util.html#module-lor.util.subprocess">lor.util.subprocess module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lor.util.html#module-lor.util">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-lor.cmdline">
<span id="lor-cmdline-module"></span><h2>lor.cmdline module<a class="headerlink" href="#module-lor.cmdline" title="Permalink to this headline">¶</a></h2>
<p>Top-level LoR CLI launcher</p>
<dl class="function">
<dt id="lor.cmdline.get_default_out_of_workspace_subcommands">
<code class="descclassname">lor.cmdline.</code><code class="descname">get_default_out_of_workspace_subcommands</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lor.cmdline.get_default_out_of_workspace_subcommands" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dict of default out-of-workspace subcommands as &lt;name: <cite>CliCommand</cite>&gt;s</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dict of &lt;name: <cite>CliCommand</cite>&gt;</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lor.cmdline.get_default_workspace_subcommands">
<code class="descclassname">lor.cmdline.</code><code class="descname">get_default_workspace_subcommands</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lor.cmdline.get_default_workspace_subcommands" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dict of default in-workspace subcommands as &lt;name: <cite>CliCommand</cite>&gt;s</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Return A dict of &lt;name:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><cite>CliCommand</cite>&gt;</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lor.cmdline.launch">
<code class="descclassname">lor.cmdline.</code><code class="descname">launch</code><span class="sig-paren">(</span><em>out_of_workspace_subcommands=None</em>, <em>workspace_subcommands=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lor.cmdline.launch" title="Permalink to this definition">¶</a></dt>
<dd><p>Launch LoR top-level CLI</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>out_of_workspace_subcommands</strong> – A dict of &lt;name: <cite>CliCommand</cite>&gt;s to use when outside a workspace</li>
<li><strong>workspace_subcommands</strong> – A dict of &lt;name: <cite>CliCommand</cite>&gt;s to use when inside a workspace</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="lor-pathalias-module">
<h2>lor.pathalias module<a class="headerlink" href="#lor-pathalias-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="lor-properties-module">
<h2>lor.properties module<a class="headerlink" href="#lor-properties-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-lor.test">
<span id="lor-test-module"></span><h2>lor.test module<a class="headerlink" href="#module-lor.test" title="Permalink to this headline">¶</a></h2>
<p>Testing support</p>
<p>This module contains helper functions that downstream workspaces might want to use for testing purposes.</p>
<dl class="class">
<dt id="lor.test.ChangeWorkspace">
<em class="property">class </em><code class="descclassname">lor.test.</code><code class="descname">ChangeWorkspace</code><span class="sig-paren">(</span><em>ws_path</em><span class="sig-paren">)</span><a class="headerlink" href="#lor.test.ChangeWorkspace" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Set the global workspace temporarily.</p>
</dd></dl>

<dl class="class">
<dt id="lor.test.TemporaryEnv">
<em class="property">class </em><code class="descclassname">lor.test.</code><code class="descname">TemporaryEnv</code><a class="headerlink" href="#lor.test.TemporaryEnv" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Enable the application’s environment (env vars, pwd) to be temporarily mutated, resetting it afterwards.</p>
</dd></dl>

<dl class="class">
<dt id="lor.test.TemporaryHdfsDir">
<em class="property">class </em><code class="descclassname">lor.test.</code><code class="descname">TemporaryHdfsDir</code><a class="headerlink" href="#lor.test.TemporaryHdfsDir" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Create a temporary directory on HDFS</p>
<p>The directory’s path on HDFS is returned. After the block exists, the dir is deleted. Useful for testing tasks
on-cluster without filling the cluster’s HDFS filesystem with test outputs.</p>
</dd></dl>

<dl class="class">
<dt id="lor.test.TemporaryWorkspace">
<em class="property">class </em><code class="descclassname">lor.test.</code><code class="descname">TemporaryWorkspace</code><a class="headerlink" href="#lor.test.TemporaryWorkspace" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Create a temporary workspace</p>
<p>Creates a workspace and sets it as the global workspace temporarily.</p>
</dd></dl>

<dl class="function">
<dt id="lor.test.assert_task_fails">
<code class="descclassname">lor.test.</code><code class="descname">assert_task_fails</code><span class="sig-paren">(</span><em>luigi_task</em><span class="sig-paren">)</span><a class="headerlink" href="#lor.test.assert_task_fails" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert that <cite>luigi_task</cite> cannot be executed on a local scheduler.</p>
<p>An AssertionError is raised if the task executed successfully.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>luigi_task</strong> – A fully-instantiated Luigi task</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lor.test.assert_task_passes">
<code class="descclassname">lor.test.</code><code class="descname">assert_task_passes</code><span class="sig-paren">(</span><em>luigi_task</em><span class="sig-paren">)</span><a class="headerlink" href="#lor.test.assert_task_passes" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert that <cite>luigi_task</cite> can be executed on a local scheduler.</p>
<p>An AssertionError is raised if the task cannot be executed</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>luigi_task</strong> – A fully-instantiated Luigi task</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-lor.workspace">
<span id="lor-workspace-module"></span><h2>lor.workspace module<a class="headerlink" href="#module-lor.workspace" title="Permalink to this headline">¶</a></h2>
<p>Workspace support.</p>
<p>A workspace is a structured, but standard, python project, which enables downstream projects to use a “convention
over configuration” design. Definitions in this module make it easier to work with that structure (e.g. creating it,
establishing whether a directory is a workspace, resolving paths in the workspace).</p>
<p>This module also provides global access to the current workspace, which can be established automatically (from the
current working dir or an env var) or set explicitly (e.g. by LoR’s CLI commands). This enables downstream code to
perform working-directory-independent pathing.</p>
<dl class="function">
<dt id="lor.workspace.create">
<code class="descclassname">lor.workspace.</code><code class="descname">create</code><span class="sig-paren">(</span><em>output_path</em><span class="sig-paren">)</span><a class="headerlink" href="#lor.workspace.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new workspace at <cite>output path</cite>, returns the workspace’s path.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>output_path</strong> – Full path to the workspace to create</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>FileNotFoundError</strong> – if output_path does not exist</li>
<li><strong>NotADirectoryError</strong> – if output_path is not a directory</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lor.workspace.get_path">
<code class="descclassname">lor.workspace.</code><code class="descname">get_path</code><span class="sig-paren">(</span><em>cwd=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lor.workspace.get_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current workspace’s path, or None if the workspace has not been set and cannot be located automatically.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The current workspace’s path as a string, or None if the current workspace cannot be established.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lor.workspace.is_workspace">
<code class="descclassname">lor.workspace.</code><code class="descname">is_workspace</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#lor.workspace.is_workspace" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if path is a workspace; otherwise, return False.</p>
<p>Throws if the path does not exist or is a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>path</strong> – The path to check</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if path is a workspace. False if path is not a workspace.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>FileNotFoundError</strong> – if path does not exist</li>
<li><strong>NotADirectoryError</strong> – if path is not a directory</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lor.workspace.run_install_script">
<code class="descclassname">lor.workspace.</code><code class="descname">run_install_script</code><span class="sig-paren">(</span><em>ws_path</em><span class="sig-paren">)</span><a class="headerlink" href="#lor.workspace.run_install_script" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a workspace’s install script.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ws_path</strong> – Path to the workspace</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if the install script ran successfully; otherwise, False</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>FileNotFoundError</strong> – if <cite>workspace_path</cite> does not exist</li>
<li><strong>NotADirectoryError</strong> – if <cite>workspace_path</cite> is not a directory</li>
<li><strong>FileNotFoundError</strong> – if the install script cannot be found</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lor.workspace.try_locate">
<code class="descclassname">lor.workspace.</code><code class="descname">try_locate</code><span class="sig-paren">(</span><em>cwd=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lor.workspace.try_locate" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a path to the workspace, if it can be found: otherwise, returns <cite>None</cite>.</p>
<p>This function looks for a workspace by:</p>
<ul class="simple">
<li>Checking if LOR_HOME environment variable is set and trying that</li>
<li>Checking if <cite>cwd</cite> is a workspace</li>
</ul>
</dd></dl>

</div>
<div class="section" id="lor-workspace-global-module">
<h2>lor.workspace_global module<a class="headerlink" href="#lor-workspace-global-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-lor">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-lor" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="lor.commands.html" class="btn btn-neutral float-right" title="lor.commands package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Luigi on Rails" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Adam Kewley.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>